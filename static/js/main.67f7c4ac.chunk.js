(this.webpackJsonpmy_gis=this.webpackJsonpmy_gis||[]).push([[0],{16:function(e,t,a){},23:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(2),i=a.n(o),l=(a(37),a(38),a(1)),c=(a(39),a(7)),s=a.n(c);a(40);s.a.accessToken="pk.eyJ1IjoibGFyc2lib3kiLCJhIjoiY2s2amd6MmVvMDRxeDNubW40bGwwenNpbCJ9.i9ENV59BhjJShYuUBgoj0g";var u=function(e){var t=Object(n.useRef)(null),a=Object(n.useState)(null),o=Object(l.a)(a,2),i=o[0],c=o[1],u=e.allLayers,d=e.deletedLayerId,y=e.setDeletedLayerId;Object(n.useEffect)((function(){!i&&function(e){var t=e.setMap,a=e.mapContainer;if(a.current){var n=new s.a.Map({container:a.current,style:"mapbox://styles/mapbox/dark-v10",center:[10.39,63.425],zoom:13,attributionControl:!1});n.on("load",(function(){console.log("First: ",u),u.forEach((function(e){n.addLayer(e),console.log(n.getLayer(e.id).id)})),t(n),n.resize()}));var r=new s.a.NavigationControl;n.addControl(r,"bottom-right")}}({setMap:c,mapContainer:t})}),[i,u]),Object(n.useEffect)((function(){i&&(console.log(i),m())}),[i,u]),Object(n.useEffect)((function(){if(i&&""!==d)return console.log("Delete layer"),console.log(i.getLayer(d)),i.removeLayer(d),i.removeSource(d),void y("")}),[i,d,y]);var m=function(){var e;console.log("Second: ",u);var t=0;u.forEach((function(a){void 0===i.getLayer(a.id)&&(i.addLayer(a),console.log("Add layer")),console.log(i.getLayer(a.id).id),i.setLayoutProperty(a.id,"visibility",a.layout.visibility),i.setPaintProperty(a.id,"".concat(a.type,"-color"),a.paint["".concat(a.type,"-color")]),0===t||i.moveLayer(a.id,e.id),e=a,t++}))};return r.a.createElement("div",{className:"map",ref:t})},d=a(24),y=(a(16),a(26)),m=a(6),p="#355f7a",f="#142850",g="#00909E",v="white",h="white",b="#ff5c5c",E=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e};function C(){var e=Object(d.a)(["\n  font-size: 14px;\n  margin-top: 6px;\n  opacity: ",";\n  background-color: ",";\n  border: ",";\n  box-shadow: ",";\n  border-radius: 5px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: ",";\n"]);return C=function(){return e},e}var S=y.a.div(C(),(function(e){return e.isDragging?.6:1}),(function(e){return e.draggingOver?b:f}),(function(e){return e.isDragging?"1px solid rgba(0, 0, 0, 0.6);":"1px solid rgba(0, 0, 0, 0.3);"}),(function(e){return e.isDragging?"0px 10px 20px rgba(0, 0, 0, 0.49);":"-2px 3px 3px rgba(0, 0, 0, 0.43);"}),h),L=function(e){var t=e.totalLayerSet,a=e.setTotalLayerSet,o=[];t.forEach((function(e){o.push(e)}));var i=function(e){o.forEach((function(t){t.layout.visibility=e?"visible":"none"})),a(o)},c=function(e){var t=e.index,i=e.layer,c=Object(n.useState)(i.layout.visibility),s=Object(l.a)(c,2),u=s[0],d=s[1],y=Object(n.useState)(i.paint["".concat(i.type,"-color")]),p=Object(l.a)(y,2),f=p[0],g=p[1];return r.a.createElement(m.b,{draggableId:"".concat(t),index:t},(function(e,t){return r.a.createElement(S,Object.assign({className:"Layer",ref:e.innerRef,isDragging:t.isDragging,draggingOver:"delete"===t.draggingOver},e.draggableProps,e.dragHandleProps),r.a.createElement("div",{style:{width:"70%",wordWrap:"break-word",marginLeft:4,fontSize:"15px"}},i.id),r.a.createElement("div",{className:"Row"},r.a.createElement("input",{type:"color",id:"head",name:"head",value:f,onChange:function(e){g(e.target.value),function(e,t){e.paint["".concat(e.type,"-color")]=t,a(o)}(i,e.target.value)}}),r.a.createElement("div",{className:"LayerButton",onClick:function(){d("visible"===u?"none":"visible"),function(e){"none"===e.layout.visibility?e.layout.visibility="visible":e.layout.visibility="none",a(o)}(i)}},r.a.createElement("i",{class:"material-icons"},"visible"===u?"visibility":"visibility_off"))))}))};return r.a.createElement("div",{className:"LayerContainer"},r.a.createElement("div",null,r.a.createElement("h3",{style:{color:v}},"Layers")),r.a.createElement("div",{className:"Note",style:{color:v,borderLeft:"solid 4px ".concat(f),backgroundColor:"rgba(255, 255, 255, 0.1)"}},"Drag and drop the layers to delete them or change the order of visualization"),r.a.createElement("div",{className:"ToggleButtons"},r.a.createElement("div",{class:"Button",style:{backgroundColor:f,color:h},onClick:function(){i(!0)}},"Show All"),r.a.createElement("div",{class:"Button",style:{backgroundColor:f,color:h},onClick:function(){i(!1)}},"Hide All")),r.a.createElement(m.c,{droppableId:"0"},(function(e){return r.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),o.map((function(e,t){return r.a.createElement(c,{layer:e,key:e.id,index:t})})),e.placeholder)})),r.a.createElement(m.c,{droppableId:"delete"},(function(e){return r.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps,{style:{color:b,borderColor:b},className:"DeleteLayer"}),"D E L E T E",e.placeholder)})))},O=a(32),I=function(e,t,a){return{id:t,type:"fill",source:{type:"geojson",data:e},paint:{"fill-color":E(),"fill-opacity":.6},layout:{visibility:a?"visible":"none"}}},w=function(e,t,a){return{id:t,type:"line",source:{type:"geojson",data:e},paint:{"line-color":E(),"line-width":1},layout:{visibility:a?"visible":"none"}}},j=function(e,t,a){return{id:t,type:"circle",source:{type:"geojson",data:e},paint:{"circle-color":E(),"circle-radius":5,"circle-stroke-width":1,"circle-stroke-color":E()},layout:{visibility:a?"visible":"none"}}},k=I({geometry:{coordinates:[[[10.401351609034037,63.42002084745741],[10.400427523901271,63.419562258241626],[10.398965789199622,63.41923898602835],[10.398814575269284,63.41852476704713],[10.399184209332333,63.41815637345442],[10.400679547110258,63.41846462147521],[10.40089796724294,63.41813381859336],[10.400545134730436,63.41802856233127],[10.401351609034037,63.417269202123634],[10.402762939083914,63.41632185327177],[10.403233382425555,63.4158030537327],[10.403905444349391,63.41560004265932],[10.404359086140488,63.41520153526773],[10.405148758918273,63.41535191606701],[10.405770416190336,63.41475038813752],[10.406039240974764,63.41432179178662],[10.40598883632299,63.41394582480257],[10.40649288276586,63.41369768389487],[10.407450570999828,63.413900708432095],[10.406980127658102,63.414163886252624],[10.40824024377767,63.41430675319967],[10.409701978454422,63.41450225418683],[10.410441246555706,63.414803022331824],[10.411096506953726,63.415043634578524],[10.411298125510967,63.415757940284436],[10.411365331713313,63.416239146726525],[10.410340437277057,63.41629929696742],[10.410357238827658,63.4167804943238],[10.408878702600276,63.41696845984805],[10.408290648404545,63.417569941244494],[10.406980127658102,63.417389498151664],[10.40556879760831,63.41875031180561],[10.404543903171998,63.41944197133037],[10.403435001007693,63.41999829406322],[10.401351609034037,63.42002084745741]]],type:"Polygon"},type:"Feature",properties:{}},"Gl\xf8shaugen",!0),N=I({geometry:{coordinates:[[[10.394903495790999,63.422120509919665],[10.395676745550787,63.42068536969313],[10.398282883605788,63.420851952155914],[10.39759555047658,63.419262972326464],[10.39759555047658,63.41827622278413],[10.398569272402597,63.4170331263164],[10.399886660850882,63.41716128308343],[10.400230327415528,63.4167255477353],[10.40100357717526,63.415956586853326],[10.401118132689788,63.41521323839575],[10.403208770897805,63.415200421876904],[10.404697992649602,63.41496972350566],[10.405499881272164,63.41505943975815],[10.405156214728692,63.41535421975826],[10.404039298404257,63.41531577036409],[10.402979659868862,63.41590532206311],[10.402807826586582,63.41626417368377],[10.401519077001069,63.417327886020416],[10.400860382776898,63.41790458103651],[10.401032216038033,63.41810962535328],[10.400631271726752,63.41846844938482],[10.399313883257292,63.41816088620692],[10.398769744547621,63.41863504473051],[10.399743466452492,63.41896823251753],[10.40083174389298,63.41900667700895],[10.40043079958167,63.419532079945725],[10.401146771573679,63.42003184453105],[10.401662271399431,63.420147173585974],[10.402578715557581,63.42000621579075],[10.404468881599485,63.42049315795734],[10.4031514931512,63.42119792802103],[10.399285244394576,63.42206925614613],[10.39862655014926,63.4215438997104],[10.39527580121839,63.4221845770042],[10.394903495790999,63.422120509919665]]],type:"Polygon"},type:"Feature",properties:{}},"H\xf8yskoleparken",!1),T=w({geometry:{coordinates:[[10.398963379348913,63.421828174887565],[10.399432496365904,63.42179669113128],[10.399995436782831,63.42140838863753],[10.400863303271166,63.42090463702175],[10.401355876125109,63.42041137165475],[10.402481756976272,63.42064226288278],[10.404287857481222,63.42063176786573],[10.404616239406948,63.4205687976943],[10.403068153247489,63.41999156465596],[10.402763227176024,63.41991809779594],[10.402857050593326,63.4197921541755],[10.403396535155906,63.419897107231634],[10.404452048444085,63.41933035616515],[10.405132268115239,63.41872161105519],[10.405319914932448,63.4187845852843],[10.40459278355263,63.41948778814131],[10.404686606952595,63.41987611665192],[10.405202635678165,63.42023295442834],[10.405718664386455,63.420096516982],[10.405906311203665,63.41986562135435],[10.406492707474882,63.41961373309897],[10.407219838854672,63.41940382452751],[10.407876602671479,63.41920440995861],[10.407946970217125,63.41903648082899],[10.407571676617408,63.418805576667125],[10.407032192037462,63.41855367909358],[10.406914912783236,63.41842772947871],[10.406961824491873,63.41820731631833],[10.407430941508835,63.41727316555122],[10.407688955871635,63.41679033411964],[10.408134617034307,63.41647543967579],[10.408462998942753,63.41642295693222],[10.408462998942753,63.41627600474075],[10.40780623512589,63.41625501150571],[10.40759513245439,63.4156776916042],[10.408298807979833,63.41549924491997],[10.409213586176833,63.41529980319456],[10.40984689413935,63.415068868932366],[10.41003454095656,63.41465948090334],[10.40984689413935,63.41422909231076],[10.409166674468196,63.41404013918057],[10.40832226383418,63.413945662150496],[10.407126015437399,63.413819692291526],[10.406258148966401,63.41373571207683],[10.405812487803729,63.41389317477618],[10.405765576095092,63.41415561068695],[10.405601385132229,63.41437605499735],[10.405789031949439,63.414774949915596],[10.40553101758664,63.41504787481736],[10.405226091515175,63.415341791040305],[10.404522415989732,63.41526831226798],[10.403842196318578,63.415436263470326],[10.403443446864514,63.415635704250406],[10.403021241538852,63.415877130704985],[10.402411389413288,63.416370474092616],[10.401731169742192,63.41649643274553],[10.401308964433838,63.41670636260534],[10.400957126671102,63.416989765480906],[10.400699112308303,63.41727316555122],[10.400464553799765,63.41759854736111],[10.399831245819968,63.41777698098372],[10.398869555931668,63.41791342946976],[10.398353527223378,63.41813384488958],[10.39783749849775,63.41843822530268],[10.397767130952161,63.41871111533496],[10.398588085731888,63.41885805504924],[10.398494262331951,63.41924639209023],[10.399385584657267,63.41935134714447],[10.399385584657267,63.41961373309897],[10.399690510711395,63.41996007888241],[10.400206539436994,63.42006503132376],[10.399831245819968,63.42055830265036],[10.399385584657267,63.42078919269491],[10.39854117402325,63.42088364717978],[10.398962150672816,63.42182411228569]],type:"LineString"},type:"Feature",properties:{}},"Campusrunden",!1),x=w({type:"Feature",geometry:{type:"LineString",coordinates:[[10.4119296182891,63.4404901376194],[10.4113078578979,63.4397977227565],[10.4094195343785,63.4377212621506],[10.4092225507492,63.437467889087],[10.4088763732351,63.4371443728089],[10.408594091059,63.4369055343879],[10.4085182430399,63.4368237603395],[10.4085060974514,63.4367352967604],[10.4085232343427,63.4365545712666],[10.4085028135662,63.4364676093513],[10.4084434694099,63.4363820669701],[10.4081347422912,63.4361511359117],[10.4078086928313,63.4355418164876],[10.407757555111,63.4353639417379],[10.4077339404093,63.4351918072544],[10.4073513730124,63.4349842706351],[10.4073640965491,63.4348998486541],[10.4074505443113,63.4347249545195],[10.4074631157074,63.4346354830823],[10.4074508294213,63.4345460184522],[10.4074112547127,63.4344581585334],[10.4068745147662,63.4337823232927],[10.4067844971577,63.4337032680293],[10.4066603167975,63.4336329030046],[10.4065348386963,63.4334639661107],[10.4064386710878,63.4333852971477],[10.4062970292155,63.4332181417645],[10.406206407174,63.4331382564117],[10.4061485202436,63.433052424224],[10.4059614692795,63.4328950839103],[10.4056436524385,63.4325660041014],[10.4054557474808,63.4324080033427],[10.4052898488774,63.4322447930052],[10.4050969336591,63.4320880978952],[10.4047326829698,63.4316705229497],[10.4045288712643,63.4315175746772],[10.4044459958246,63.4314359959762],[10.4043532956653,63.4312621070605],[10.4040410405117,63.4309318827092],[10.403939617855,63.4308546376601],[10.4034649894267,63.4303602876144],[10.4033474802418,63.4301895841057],[10.4032559117401,63.4301099366158],[10.4031462339439,63.4300352584145],[10.4029885774398,63.4298704551237],[10.4027140520622,63.4295335985454],[10.4025913073201,63.42946325215],[10.4023763664124,63.4292122430433],[10.4022782594961,63.4291342041536],[10.4021552814641,63.4290639271311],[10.4020753926435,63.428981585976],[10.4019567601259,63.4288109607803],[10.4018092057007,63.4286442512692],[10.4015986622495,63.4282982239813],[10.4015593826144,63.4282103613847],[10.4015223491049,63.4280321003696],[10.4013458681729,63.4276823862503],[10.4013252011961,63.4275932250696],[10.4013346847284,63.4275037504664],[10.4012809712348,63.4273263276311],[10.4012826049433,63.4272368698387],[10.4013184478161,63.4271489604163],[10.4015348908584,63.4268980656285],[10.4016957121554,63.4267382923125],[10.4017684037825,63.4265627089761],[10.4018114425268,63.4262946212569],[10.4017944248775,63.4262052693045],[10.4016990885553,63.4260312299326],[10.4016777930513,63.4258526631176],[10.4016287838294,63.4257660803471],[10.4015515967207,63.4256833419062],[10.4014504337787,63.4256059823292],[10.4013344106036,63.425532900634],[10.4009456702459,63.4253297538385],[10.4007414102817,63.4251755917204],[10.4001666118328,63.4248085257294],[10.4000000595618,63.4247165374018],[10.3997695302885,63.4246070810868],[10.3996200991578,63.4245474134627],[10.3993084601468,63.4244348523011],[10.3988208137054,63.4242778879043],[10.3983178005652,63.4241310567039],[10.3979594098147,63.4240510623177],[10.3975884902924,63.4239836547765],[10.397201536328,63.4239380673765],[10.3968043493007,63.4239179509359],[10.3956035884984,63.42392472593],[10.3947206446312,63.4239496172034],[10.3942051934094,63.423942297847],[10.3936056154776,63.4239559526952],[10.3924336179545,63.4240707878918],[10.391279540058,63.4242196030154],[10.3905151439169,63.4243262975923],[10.3901393412952,63.4243881205992],[10.3895975599695,63.4245038506555],[10.3889041077728,63.4246831545764],[10.3884132726886,63.4248380997868],[10.3880990374995,63.4249492244968],[10.3876563569516,63.425130890193],[10.3872323813734,63.4253214015758],[10.3868621223376,63.4255330248414],[10.3864640881435,63.4257341662737],[10.3853535010443,63.4263692962033],[10.3850580997786,63.42649011241],[10.3846469627007,63.426686244101],[10.3843864072147,63.4268223857193],[10.3840794464894,63.4269367726417],[10.3837937343941,63.4270623411815],[10.3835186792199,63.4271926799495],[10.3832459445019,63.4273489389131],[10.3827715787433,63.4275138888892],[10.3822784018369,63.4276673058126],[10.3802685635526,63.4282568577833],[10.3783729070854,63.428758479164],[10.3779964115263,63.4288191329285],[10.3776108544596,63.4288672483024],[10.3770161527122,63.4289043480058],[10.3760174344911,63.4289350071169],[10.3754167713789,63.4289345601237],[10.3750175744434,63.4289226793784],[10.3746243797397,63.428889539916],[10.3742456182846,63.4288314871853],[10.3740655779653,63.4287926414097],[10.3738950665153,63.4287456550716],[10.3735655210648,63.4286438896663],[10.3734190341674,63.4285829259991],[10.3731520610877,63.4284493165941],[10.3730252570822,63.4283799254266],[10.3728090936978,63.4282291578289],[10.3724628658521,63.4279059937412],[10.372413481387,63.4278190719839],[10.3723882367898,63.4277302190962],[10.3723619544329,63.4274616274674],[10.3723940510468,63.4273733076207],[10.3725511093312,63.4272089116825],[10.3726109998817,63.4271233553807],[10.372680368038,63.4269468384645],[10.3727038156666,63.426767779531],[10.3727305946428,63.4266789500082],[10.3727820665927,63.4265927825809],[10.372868051943,63.4265118725169],[10.3732337416698,63.4262988127433],[10.3735654634328,63.4260746127579],[10.373707183946,63.426013103646],[10.3740195872117,63.4259010746663],[10.374989746016,63.4254481632142],[10.3768179168281,63.4246186931817],[10.3769495406855,63.4245511736197],[10.377650270743,63.4241141757912],[10.3779725702754,63.4238871807903],[10.3785616405049,63.4235246714042],[10.3790626791675,63.4232448763661],[10.3798129437458,63.4227993347546],[10.3800074405151,63.4226425892193],[10.3806708917652,63.4221941313261],[10.3814828048042,63.4215758154917],[10.3821276029661,63.421121944503],[10.3824131752069,63.4208852970089],[10.3828470586633,63.420583950667],[10.3832117377862,63.4202647965442],[10.3836102313069,63.4198535227115],[10.3841894369999,63.4190894250479],[10.3848478860933,63.41796167992],[10.3850935979183,63.4172528769328],[10.3852016860813,63.4166271331496],[10.3852289545563,63.4161790242052],[10.3852911408432,63.4159115078602],[10.3853399144397,63.4158247832623],[10.385408098948,63.4157404714787],[10.3855683991534,63.4155761774309],[10.3860882561527,63.4151932465066],[10.3864616160678,63.4149829002136],[10.386755083666,63.4148609298647],[10.3870742384045,63.4147528103421],[10.3874059522785,63.4146525031476],[10.3877624351618,63.4145712907489],[10.3892154281233,63.4143261126141],[10.3896132099606,63.4143070378649],[10.3900047707507,63.4142699060181],[10.3911325169203,63.414089332156],[10.3915319610982,63.4140814589176],[10.3921112107827,63.4140108357384],[10.3922994187636,63.4139804656849],[10.3926624453514,63.4139051171185],[10.393532310587,63.4136839159935],[10.3936707026268,63.4136359502044]]},properties:{objektType:"Hovedelv i vassOmr",nedborfeltVassdragNr:"123.Z",elvenavn:"Nidelvvassdraget",elvelengde:176431.87385132,nivaa:"1a",vassdragsomrade:"123",dataUttaksdato:"20201126",eksportType:"NVEs nedlastningsl\xf8sning"}},"Nidelva",!0),M=j({geometry:{coordinates:[[10.396720913598973,63.42703383046102],[10.398142121071494,63.4301819619906],[10.411310188156214,63.4271889546792],[10.410446784307295,63.43282619267729],[10.430323692026917,63.437105663900454],[10.384308314280334,63.43043662846472],[10.444320076624017,63.41313125237676],[10.425110770960066,63.422605516377416],[10.444719129274588,63.4198339048891],[10.442437499526307,63.42547085744629],[10.376361113637408,63.429918608147965],[10.398622485207763,63.417698348200176],[10.40043842199649,63.411012789693366]],type:"MultiPoint"},type:"Feature",properties:{}},"Kirker",!0),P=(j({geometry:{coordinates:[10.404468071331877,63.41559939466791],type:"Point"},type:"Feature",properties:{}},"Daniel",!0),j({geometry:{coordinates:[[10.368512510817737,63.42994852160656],[10.38759803978315,63.43056280747055],[10.391698015712416,63.43094341442257],[10.393568673684607,63.43209464104748],[10.407763730110448,63.431822092460486],[10.417481933466055,63.43234748297599],[10.424072247257554,63.436515300442025],[10.39903054375227,63.42224888711106],[10.395443638595877,63.41949611406021],[10.414146767627388,63.41333431725374],[10.430664118992532,63.41897695343559],[10.431314382278305,63.41277373049425]],type:"MultiPoint"},type:"Feature",properties:{}},"Bunnpris",!0)),D=(w({geometry:{coordinates:[],type:"LineString"},type:"Feature",properties:{}},"Train",!0),[k,N,T,x,M,P]),B=function(e){var t=e.operation,a=e.helpTip;return r.a.createElement("div",{className:"OperationHeader"},r.a.createElement("p",{style:{fontSize:"13px",margin:"0",fontWeight:"bold",color:h}},t),r.a.createElement("div",{className:"HelpTip",style:{backgroundColor:g}},r.a.createElement("p",null,a)))},F=function(e){var t=e.chosenLayerId,a=e.setChosenLayerId,n=e.layers;return r.a.createElement("select",{className:"LayerSelect",style:{color:f},onChange:function(e){return a(e.target.value)},value:t},n.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.id)})))},R=function(e){return r.a.createElement("button",{className:"OperationButton",style:{backgroundColor:"white",color:p,borderRadius:"5px"},onClick:function(){return e.operationHandler()}},"Go")},A=function(e){var t=e.setTotalLayerSet,a=e.layersCopy,o=Object(n.useState)(5),i=Object(l.a)(o,2),c=i[0],s=i[1],u=Object(n.useState)(a[0].id),d=Object(l.a)(u,2),y=d[0],m=d[1];return r.a.createElement("div",{className:"OperationContainer",style:{backgroundColor:f,color:h}},r.a.createElement("div",{className:"OperationSettings"},r.a.createElement(B,{operation:"B U F F E R",helpTip:"Creates a buffer around a layer for a given radius."}),r.a.createElement(F,{chosenLayerId:y,setChosenLayerId:m,layers:a}),r.a.createElement("label",null,r.a.createElement("input",{className:"Input",type:"number",id:"quantity",min:"5",max:"500",step:"5",value:c,onChange:function(e){return s(e.target.value)}}),"metres")),r.a.createElement(R,{operationHandler:function(){return function(e){var n=Object(O.a)(e.source.data,c,{units:"metres"}),r=e.id+"_".concat(c,"m"),o=I(n,r,!0);-1===a.findIndex((function(e){return e.id===r}))?(a.unshift(o),t(a)):alert("You have allready created this layer")}(a.find((function(e){return e.id===y})))}}))},H=a(30),Y=a.n(H),_=function(e){var t=e.setTotalLayerSet,a=e.layersCopy,o=a.filter((function(e){return"Polygon"===e.source.data.geometry.type||"MultiPolygon"===e.source.data.geometry.type})),i=Object(n.useState)(o[0].id),c=Object(l.a)(i,2),s=c[0],u=c[1],d=Object(n.useState)(o[0].id),y=Object(l.a)(d,2),m=y[0],p=y[1];return r.a.createElement("div",{className:"OperationContainer",style:{backgroundColor:f,color:h}},r.a.createElement("div",{className:"OperationSettings"},r.a.createElement(B,{operation:"D I F F E R E N C E",helpTip:"Finds the difference between two polygons by clipping the second polygon from the first."}),r.a.createElement(F,{chosenLayerId:s,setChosenLayerId:u,layers:o}),r.a.createElement(F,{chosenLayerId:m,setChosenLayerId:p,layers:o})),r.a.createElement(R,{operationHandler:function(){return function(e,n){if(e.id!==n.id){var r=Y()(e.source.data,n.source.data),o=e.id+"_".concat(n.id,"_DIFF"),i=I(r,o,!0);-1===a.findIndex((function(e){return e.id===o}))?(a.unshift(i),t(a)):alert("You have allready created this layer")}else alert("You need to choose two different layers, in order to perform Difference")}(o.find((function(e){return e.id===s})),o.find((function(e){return e.id===m})))}}))},z=a(3),G=a(31),W=a.n(G),J=function(e){return"MultiPolygon"===e.source.data.geometry.type?e.source.data.geometry.coordinates.map((function(e){return z.polygon(e)})):[e.source.data]},U=function(e){var t=e.setTotalLayerSet,a=e.layersCopy,o=a.filter((function(e){return"Polygon"===e.source.data.geometry.type||"MultiPolygon"===e.source.data.geometry.type})),i=Object(n.useState)(o[0].id),c=Object(l.a)(i,2),s=c[0],u=c[1],d=Object(n.useState)(o[0].id),y=Object(l.a)(d,2),m=y[0],p=y[1];return r.a.createElement("div",{className:"OperationContainer",style:{backgroundColor:f,color:h}},r.a.createElement("div",{className:"OperationSettings"},r.a.createElement(B,{operation:"I N T E R S E C T",helpTip:"Takes two polygons and returns their intersection (the area they have in common)."}),r.a.createElement(F,{chosenLayerId:s,setChosenLayerId:u,layers:o}),r.a.createElement(F,{chosenLayerId:m,setChosenLayerId:p,layers:o})),r.a.createElement(R,{operationHandler:function(){return function(e,n){if(e.id!==n.id){for(var r=J(e),o=J(n),i=[],l=0;l<r.length;l++)for(var c=0;c<o.length;c++){var s=W()(r[l],o[c]);console.log("Piece1: ",r[l]),console.log("Piece2: ",o[c]),console.log(s),null!==s&&i.push(s.geometry.coordinates)}if(console.log("intersected polygons: ",i),i.length<=0)alert("This couldn't be done.. (Length of intersect returned null)");else{var u;u=1===i.length?1===i[0].length?z.polygon(i[0]):z.multiPolygon(i[0]):z.multiPolygon(i);var d="".concat(e.id,"_").concat(n.id,"_ISCT");if(-1===a.findIndex((function(e){return d===e.id}))){var y=I(u,d,!0);a.unshift(y),t(a)}else alert("You have allready created this layer")}}else alert("You need to choose two different layers, in order to perform Intersect")}(o.find((function(e){return e.id===s})),o.find((function(e){return e.id===m})))}}))},V=function(e){var t=e.setTotalLayerSet,a=e.layersCopy,o=a.filter((function(e){return"Polygon"===e.source.data.geometry.type||"MultiPolygon"===e.source.data.geometry.type})),i=Object(n.useState)(o[0].id),c=Object(l.a)(i,2),s=c[0],u=c[1],d=Object(n.useState)(o[0].id),y=Object(l.a)(d,2),m=y[0],p=y[1];return r.a.createElement("div",{className:"OperationContainer",style:{backgroundColor:f,color:h}},r.a.createElement("div",{className:"OperationSettings"},r.a.createElement(B,{operation:"U N I O N",helpTip:"Takes two polygons and returns a combined polygon."}),r.a.createElement(F,{chosenLayerId:s,setChosenLayerId:u,layers:o}),r.a.createElement(F,{chosenLayerId:m,setChosenLayerId:p,layers:o})),r.a.createElement(R,{operationHandler:function(){return function(e,n){if(e.id!==n.id){var r=z.union(e.source.data,n.source.data),o="".concat(e.id,"_").concat(n.id,"_UNI");if(-1===a.findIndex((function(e){return e.id===o}))){var i=I(r,o,!0);a.unshift(i),t(a)}else alert("You have allready created this layer")}else alert("You need to choose two different layers, in order to perform Union")}(o.find((function(e){return e.id===s})),o.find((function(e){return e.id===m})))}}))},q=function(e){var t=e.totalLayerSet,a=e.setTotalLayerSet,n=[];return t.forEach((function(e){n.push(e)})),r.a.createElement("div",{className:"LayerContainer"},r.a.createElement("h3",{style:{color:v}},"Spatial Operations"),r.a.createElement(A,{layersCopy:n,setTotalLayerSet:a}),r.a.createElement(U,{layersCopy:n,setTotalLayerSet:a}),r.a.createElement(V,{layersCopy:n,setTotalLayerSet:a}),r.a.createElement(_,{layersCopy:n,setTotalLayerSet:a}))},K=function(e){var t=e.totalLayerSet,a=e.setTotalLayerSet,n=e.setSideBarOpen,o=e.setDeletedLayerId;return r.a.createElement("div",{className:"SideBar"},r.a.createElement("button",{style:{backgroundColor:f,color:h},className:"CloseSideBar",onClick:function(){n(!1)}},"\u2717"),r.a.createElement(m.a,{onDragEnd:function(e){if(e.destination){var n=t.slice(),r=n.filter((function(e){return"Polygon"===e.source.data.geometry.type||"MultiPolygon"===e.source.data.geometry.type})),i=parseInt(e.source.index);if("delete"===e.destination.droppableId){if(n.length<3)return void alert("Please do not delete any more layers.");if(r.length<=2&&"fill"===t[i].type)return void alert("You can't delete another polygon layer. \n\nIn order to perform buffer, intersect or difference, you need at least 2 polygon layers in your collection.");n.splice(i,1),o(t[i].id),a(n)}else{var l=parseInt(e.destination.index),c=t[i];n.splice(i,1),n.splice(l,0,c),a(n)}}}},r.a.createElement(L,{totalLayerSet:t,setTotalLayerSet:a}),r.a.createElement(q,{totalLayerSet:t,setTotalLayerSet:a})))},Z=a(13),$=a.n(Z),Q=(a(23),function(e){var t=e.setShowMission,a=e.setAcceptedMission,o=e.acceptedMission,i=e.title,c=Object(n.useState)(""),s=Object(l.a)(c,2),u=s[0],d=s[1],y=Object(n.useState)(!1),m=Object(l.a)(y,2);m[0],m[1];return r.a.createElement("div",{className:"ModalContent"},r.a.createElement("h1",null,i),!o&&r.a.createElement("div",{className:"TextContainer"},r.a.createElement("p",null,"There you are... Finally. "),r.a.createElement("p",null,"Your mission, should you choose to accept. ")),o&&r.a.createElement("div",{className:"TextContainer",style:{fontSize:"15px"}},r.a.createElement("p",null,"Ethan Hunt has gotten himself caught by the enemy"),r.a.createElement("ul",null,r.a.createElement("li",null,"I can see a church. It is at most 100 metres away from me"),r.a.createElement("li",null,"I can hear cars driving around, so I know the highway must be in close proximity. At most 50 metres"),r.a.createElement("li",null,"I can hear either a tram or a train, but I can't tell which. It is at most 50 metres away from me.")),r.a.createElement("p",null,"We need your GIS expertise in order to save him."),r.a.createElement("p",null,"As always, should you be caught or killed, the Secretary will disavow any knowledge of your actions. Good luck, Agent.")),!o&&r.a.createElement("div",{className:"ButtonContainer"},r.a.createElement("button",{onClick:function(){t(!1)}},"Explore on my own"),r.a.createElement("button",{onClick:function(){a(!0)}},"I ACCEPT")),o&&r.a.createElement("div",{className:"InputContainer"},r.a.createElement("input",{placeholder:"location",value:u,onChange:function(e){return d(e.target.value)}}),r.a.createElement("button",{onClick:function(){!function(e){e.toLowerCase()==="Gl\xf8shaugen".toLowerCase()?alert("Well Done"):alert("This is not correct.")}(u)}},"CONFIRM")))});$.a.setAppElement("#root");var X={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",height:"60%",width:"50%",backgroundColor:"".concat(f),color:"".concat(h),boxShadow:"0 6.5vw 2vw -5vw rgba(0, 0, 0, 0.5)"}},ee=function(e){var t=e.showMission,a=e.setShowMission,o=Object(n.useState)(!1),i=Object(l.a)(o,2),c=i[0],s=i[1];return r.a.createElement("div",null,r.a.createElement("button",{style:{backgroundColor:f,color:h},className:"ShowMission",onClick:function(){a(!0)}},"\u2691"),r.a.createElement($.a,{isOpen:t,onRequestClose:function(){return a(!1)},style:X},!c&&r.a.createElement(Q,{setShowMission:a,setAcceptedMission:s,acceptedMission:c,title:"M I S S I O N"}),c&&r.a.createElement(Q,{setShowMission:a,setAcceptedMission:s,acceptedMission:c,title:"TOP SECRET"})))};var te=function(){var e=Object(n.useState)(D),t=Object(l.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(!0),c=Object(l.a)(i,2),s=c[0],d=c[1],y=Object(n.useState)(""),m=Object(l.a)(y,2),g=m[0],v=m[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),C=E[0],S=E[1];return r.a.createElement("div",{className:"mainContainer"},r.a.createElement(ee,{showMission:C,setShowMission:S}),!s&&!C&&r.a.createElement("button",{style:{backgroundColor:f,color:h,fontSize:"32px"},className:"ToggleSideBar",onClick:function(){d(!0)}},"\u2630"),s&&!C&&r.a.createElement("div",{className:"sideBarContainer",style:{backgroundColor:p}},r.a.createElement(K,{totalLayerSet:a,setTotalLayerSet:o,setSideBarOpen:d,sideBarOpen:s,setDeletedLayerId:v})),r.a.createElement("div",{className:"mapContainer"},r.a.createElement(u,{allLayers:a,deletedLayerId:g,setDeletedLayerId:v})))};var ae=function(){return r.a.createElement(te,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[59,1,2]]]);
//# sourceMappingURL=main.67f7c4ac.chunk.js.map