[{"C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\App.js":"1","C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\Map\\Map.js":"2","C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\Mission\\Mission.js":"3","C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\SideBar\\OperationList.js":"4","C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\Mission\\ModalContent.js":"5","C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\SideBar\\SpatialOperations\\Difference.js":"6","C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\SideBar\\SpatialOperations\\minorComponents\\OperationHeader.js":"7","C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\SideBar\\SpatialOperations\\minorComponents\\LayerSelect.js":"8","C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\SideBar\\SpatialOperations\\minorComponents\\OperationButton.js":"9","C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\constants\\Colors.js":"10","C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\SideBar\\LayerList.js":"11","C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\MainWrapper\\MainWrapper.js":"12","C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\datasets\\layers.js":"13","C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\SideBar\\SpatialOperations\\Buffer.js":"14","C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\serviceWorker.js":"15","C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\datasets\\geoJSON.js":"16"},{"size":178,"mtime":1599555839218,"results":"17","hashOfConfig":"18"},{"size":3064,"mtime":1606409151546,"results":"19","hashOfConfig":"18"},{"size":1689,"mtime":1606397221936,"results":"20","hashOfConfig":"18"},{"size":951,"mtime":1606321176599,"results":"21","hashOfConfig":"18"},{"size":2528,"mtime":1606416482221,"results":"22","hashOfConfig":"18"},{"size":2527,"mtime":1606313696683,"results":"23","hashOfConfig":"18"},{"size":491,"mtime":1606397919171,"results":"24","hashOfConfig":"18"},{"size":567,"mtime":1606395084929,"results":"25","hashOfConfig":"18"},{"size":393,"mtime":1606395599205,"results":"26","hashOfConfig":"18"},{"size":457,"mtime":1606399735705,"results":"27","hashOfConfig":"18"},{"size":4971,"mtime":1606409954300,"results":"28","hashOfConfig":"18"},{"size":2634,"mtime":1606397531004,"results":"29","hashOfConfig":"18"},{"size":2351,"mtime":1606420024518,"results":"30","hashOfConfig":"18"},{"size":2096,"mtime":1606240401061,"results":"31","hashOfConfig":"18"},{"size":5086,"mtime":499162500000,"results":"32","hashOfConfig":"18"},{"size":20079,"mtime":1606420277966,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"1bytio9",{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"36"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\App.js",[],["69","70"],"C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\Map\\Map.js",["71"],"import React, { useState, useEffect, useRef } from \"react\";\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport \"./Map.css\";\r\n// import { gloshaugen } from \"../../datasets/geoJSON\";\r\n\r\nmapboxgl.accessToken =\r\n  \"pk.eyJ1IjoibGFyc2lib3kiLCJhIjoiY2s2amd6MmVvMDRxeDNubW40bGwwenNpbCJ9.i9ENV59BhjJShYuUBgoj0g\";\r\n\r\nconst Map = (props) => {\r\n  const mapContainer = useRef(null);\r\n  const [map, setMap] = useState(null);\r\n  let { allLayers, deletedLayerId, setDeletedLayerId } = props;\r\n\r\n  useEffect(() => {\r\n    const attachMap = ({ setMap, mapContainer }) => {\r\n      if (!mapContainer.current) {\r\n        return;\r\n      }\r\n      const newMap = new mapboxgl.Map({\r\n        container: mapContainer.current,\r\n        style: \"mapbox://styles/mapbox/dark-v10\",\r\n        center: [10.406, 63.418],\r\n        zoom: 14,\r\n        attributionControl: false,\r\n      });\r\n\r\n      newMap.on(\"load\", () => {\r\n        console.log(\"First: \", allLayers);\r\n\r\n        // Add layers to map after map has loaded\r\n        allLayers.forEach((layer) => {\r\n          newMap.addLayer(layer);\r\n          console.log(newMap.getLayer(layer.id).id);\r\n        });\r\n        setMap(newMap);\r\n        newMap.resize();\r\n      });\r\n\r\n      // Add zoom control\r\n      var nav = new mapboxgl.NavigationControl();\r\n      newMap.addControl(nav, \"bottom-right\");\r\n    };\r\n    !map && attachMap({ setMap, mapContainer });\r\n  }, [map, allLayers]);\r\n\r\n  /*\r\n  useEffect(() => {\r\n    if (map) {\r\n      //map.setStyle(\"mapbox://styles/mapbox/\" + mapStyle);\r\n      // map.remove();\r\n      // setMap(null);\r\n      console.log(\"change layer\");\r\n    }\r\n  }, [map, mapStyle]);\r\n  */\r\n\r\n  useEffect(() => {\r\n    if (map) {\r\n      console.log(map);\r\n      updateLayers();\r\n    }\r\n  }, [map, allLayers]);\r\n\r\n  useEffect(() => {\r\n    if (map) {\r\n      // Delete layer\r\n      if (deletedLayerId !== \"\") {\r\n        console.log(\"Delete layer\");\r\n        console.log(map.getLayer(deletedLayerId));\r\n        map.removeLayer(deletedLayerId);\r\n        map.removeSource(deletedLayerId);\r\n        setDeletedLayerId(\"\");\r\n        return;\r\n      }\r\n    }\r\n  }, [map, deletedLayerId, setDeletedLayerId]);\r\n\r\n  const updateLayers = () => {\r\n    console.log(\"Second: \", allLayers);\r\n    let lastLayer;\r\n    let index = 0;\r\n    // Removes the chosen layer\r\n\r\n    allLayers.forEach((layer) => {\r\n      // Adds layer to the map if not already included\r\n      if (map.getLayer(layer.id) === undefined) {\r\n        map.addLayer(layer);\r\n        console.log(\"Add layer\");\r\n      }\r\n      console.log(map.getLayer(layer.id).id);\r\n\r\n      // Updates visibility of each layer\r\n      map.setLayoutProperty(layer.id, \"visibility\", layer.layout.visibility);\r\n\r\n      map.setPaintProperty(layer.id, `${layer.type}-color`, layer.paint[`${layer.type}-color`]);\r\n\r\n      // Rearranges the layers\r\n      if (index === 0) {\r\n        lastLayer = layer;\r\n      } else {\r\n        map.moveLayer(layer.id, lastLayer.id);\r\n        lastLayer = layer;\r\n      }\r\n      index++;\r\n    });\r\n  };\r\n\r\n  return <div className=\"map\" ref={mapContainer} />;\r\n};\r\n\r\nexport default Map;\r\n","C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\Mission\\Mission.js",[],["72","73"],"C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\SideBar\\OperationList.js",[],"C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\Mission\\ModalContent.js",["74","75","76"],"C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\SideBar\\SpatialOperations\\Difference.js",[],"C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\SideBar\\SpatialOperations\\minorComponents\\OperationHeader.js",[],"C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\SideBar\\SpatialOperations\\minorComponents\\LayerSelect.js",[],"C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\SideBar\\SpatialOperations\\minorComponents\\OperationButton.js",[],"C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\constants\\Colors.js",["77"],"C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\SideBar\\LayerList.js",[],"C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\MainWrapper\\MainWrapper.js",[],"C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\datasets\\layers.js",[],"C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\components\\SideBar\\SpatialOperations\\Buffer.js",[],"C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\serviceWorker.js",[],"C:\\Users\\larse\\Documents\\Skole\\Programmering i Geomatikk\\my_gis\\src\\datasets\\geoJSON.js",[],{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","severity":1,"message":"83","line":62,"column":6,"nodeType":"84","endLine":62,"endColumn":22,"suggestions":"85"},{"ruleId":"78","replacedBy":"86"},{"ruleId":"80","replacedBy":"87"},{"ruleId":"88","severity":1,"message":"89","line":2,"column":8,"nodeType":"90","messageId":"91","endLine":2,"endColumn":14},{"ruleId":"88","severity":1,"message":"92","line":8,"column":10,"nodeType":"90","messageId":"91","endLine":8,"endColumn":17},{"ruleId":"88","severity":1,"message":"93","line":8,"column":19,"nodeType":"90","messageId":"91","endLine":8,"endColumn":29},{"ruleId":"94","severity":1,"message":"95","line":1,"column":1,"nodeType":"96","endLine":10,"endColumn":3},"no-native-reassign",["97"],"no-negated-in-lhs",["98"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'updateLayers'. Either include it or remove the dependency array.","ArrayExpression",["99"],["97"],["98"],"no-unused-vars","'Colors' is defined but never used.","Identifier","unusedVar","'correct' is assigned a value but never used.","'setCorrect' is assigned a value but never used.","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation",{"desc":"100","fix":"101"},"Update the dependencies array to be: [map, allLayers, updateLayers]",{"range":"102","text":"103"},[1716,1732],"[map, allLayers, updateLayers]"]